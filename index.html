<!doctype html>
<html lang="ar">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Ù‡Ø¯ÙŠØ© Fufty ğŸ’–</title>
<style>
  /* --- Ø£Ù„ÙˆØ§Ù† ÙˆØ®ÙŠØ§Ø±Ø§Øª Ø¹Ø§Ù…Ø© --- */
  :root{
    --bg1: #ffedf6;   /* Ø¨ÙŠØ¨ÙŠ Ø¨ÙŠÙ†Ùƒ Ø¨Ø§Ù‡Øª */
    --bg2: #f4e9fb;   /* Ø¨Ù†ÙØ³Ø¬ÙŠ ÙØ§ØªØ­ */
    --card: #ffffff;
    --accent: #ff6fa3; /* ÙˆØ±Ø¯ÙŠ Ù„Ø§Ù…Ø¹ */
    --muted: #64748b;
    --dark: #07112a;
  }
  *{box-sizing:border-box;font-family:system-ui, "Noto Sans", Arial, sans-serif}
  body{margin:0;min-height:100vh;background:linear-gradient(180deg,var(--bg1),var(--bg2));display:flex;align-items:center;justify-content:center;padding:20px;color:var(--dark)}

  /* --- Ø§Ù„Ø­Ø§ÙˆÙŠØ© --- */
  .wrap{width:100%;max-width:1000px}
  .card{background:var(--card);border-radius:16px;padding:20px;box-shadow:0 20px 40px rgba(4,12,30,0.08);position:relative;overflow:hidden}

  /* --- Ø£Ø¹Ù„Ù‰ Ø§Ù„ØµÙØ­Ø© --- */
  .top{display:flex;gap:16px;align-items:center}
  .logo{width:84px;height:84px;border-radius:14px;background:linear-gradient(180deg,var(--accent),#ffb3d1);display:flex;align-items:center;justify-content:center;font-size:34px;color:white}
  .title h1{margin:0;font-size:22px}
  .subtitle{color:var(--muted);margin-top:6px;font-size:13px}

  /* --- Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø¹Ø±Ø¶ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© --- */
  .main{display:flex;gap:20px;margin-top:18px;flex-wrap:wrap}
  .left{flex:1;min-width:300px}
  .right{width:360px;max-width:45%;min-width:260px}

  /* --- Ø§Ù„Ø¹Ø¯Ù‘Ø§Ø¯ --- */
  .countdown{display:flex;gap:12px;align-items:center;flex-wrap:wrap}
  .countBox{background:var(--dark);color:#fff;padding:14px;border-radius:10px;min-width:80px;text-align:center;box-shadow:0 8px 18px rgba(2,6,23,0.08)}
  .countBox .num{font-size:22px;font-weight:700}
  .countBox .lbl{font-size:12px;opacity:0.85;margin-top:6px}

  /* --- Ø±Ø³Ø§Ù„Ø© Ø¬Ø§Ù†Ø¨ÙŠØ© ÙˆØµÙˆØ±Ø©/GIF --- */
  .sideMsg{margin-top:12px;display:flex;gap:12px;align-items:center}
  .avatarPlaceholder{width:92px;height:92px;border-radius:10px;background:linear-gradient(180deg,#ffeef8,#ffdff0);display:flex;align-items:center;justify-content:center;color:var(--dark)}
  .textArea{flex:1}

  /* --- Ø²Ø± Ø§Ù„Ù…ÙˆØ³ÙŠÙ‚Ù‰ --- */
  .musicRow{margin-top:10px;display:flex;gap:8px;align-items:center}

  .btn{background:var(--accent);color:#fff;padding:10px 14px;border-radius:10px;border:none;cursor:pointer;font-weight:700}
  .btn.ghost{background:transparent;color:var(--accent);border:1px solid rgba(255,111,163,0.12)}

  /* --- Ù„ÙˆØ­Ø© Ø§Ù„Ù…ÙØ§Ø¬Ø£Ø© (Ù…Ø®ÙÙŠÙ‘Ø© Ù‚Ø¨Ù„ Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯) --- */
  .revealArea{margin-top:18px;opacity:0;transform:translateY(10px);transition:all .6s cubic-bezier(.2,.9,.2,1);pointer-events:none}
  .revealArea.visible{opacity:1;transform:none;pointer-events:auto}

  /* --- petals (Ø§Ù„ÙˆØ±Ø¯ Ø§Ù„Ù†Ø§Ø²Ù„) --- */
  .petal{position:fixed;left:50%;top:-10vh;width:14px;height:24px;background:radial-gradient(circle at 50% 35%, rgba(255,255,255,0.9) 0%, rgba(255,150,180,0.9) 30%, rgba(255,100,140,0.95) 100%);border-radius:6px 6px 8px 8px;transform-origin:center;opacity:0.95;pointer-events:none;z-index:50}

  /* keyframes Ù„Ù„Ø­Ø±ÙƒØ© */
  @keyframes fall {
    0% { transform: translateY(-10vh) rotate(0deg) translateX(0); opacity:0 }
    10% { opacity:1 }
    100% { transform: translateY(110vh) rotate(720deg) translateX(var(--dx)); opacity:1 }
  }

  /* --- ØµÙ†Ø¯ÙˆÙ‚ Ø§Ù„Ø±Ø³Ø§Ù„Ø© (modal) --- */
  .modalOverlay{position:fixed;inset:0;background:rgba(5,10,20,0.45);display:flex;align-items:center;justify-content:center;z-index:200;opacity:0;pointer-events:none;transition:opacity .25s}
  .modalOverlay.show{opacity:1;pointer-events:auto}
  .modal{background:linear-gradient(180deg,#fff,#fff);border-radius:14px;padding:18px;max-width:680px;width:92%;box-shadow:0 20px 40px rgba(2,6,23,0.15);position:relative;text-align:center}
  .modal .close{position:absolute;right:12px;top:10px;font-weight:800;border:none;background:transparent;font-size:20px;cursor:pointer}
  .modal .msg{font-size:18px;color:var(--dark);line-height:1.6}
  .heart{margin-top:12px;font-size:44px;animation:heartPulse 1s infinite ease-in-out}

  @keyframes heartPulse {
    0%{transform:scale(1);filter:drop-shadow(0 0 0 rgba(255,111,163,0.0))}
    50%{transform:scale(1.15);filter:drop-shadow(0 8px 18px rgba(255,111,163,0.3))}
    100%{transform:scale(1);filter:drop-shadow(0 0 0 rgba(255,111,163,0.0))}
  }

  /* --- Ù‡Ø¯Ø§ÙŠØ§ ÙˆØµÙ†Ø¯ÙˆÙ‚ Ø§Ù„ÙƒÙˆØ¯ --- */
  .gifts{margin-top:14px;display:flex;gap:12px;align-items:center;flex-wrap:wrap}
  .giftIcon{width:84px;height:84px;border-radius:12px;background:linear-gradient(180deg,#fff1f6,#ffe9f2);display:flex;align-items:center;justify-content:center;font-size:28px;cursor:pointer}
  .giftCard{padding:12px;border-radius:10px;border:1px dashed rgba(7,17,42,0.06);min-width:220px}
  .codeBox{display:inline-block;padding:10px 12px;border-radius:8px;background:#0f1724;color:#fff;font-weight:700;letter-spacing:1px}

  /* footer */
  .footer{margin-top:18px;color:var(--muted);font-size:13px;text-align:center}
  @media(max-width:820px){ .right{max-width:100%} .main{flex-direction:column} }
</style>
</head>
<body>
  <div class="wrap">
    <div class="card" id="card">
      <!-- petals container will be injected dynamically -->
      <div class="top">
        <div class="logo">ğŸ€</div>
        <div style="flex:1">
          <div class="title"><h1>Ø¹ÙŠØ¯ Ù…ÙŠÙ„Ø§Ø¯ Ø³Ø¹ÙŠØ¯ ÙŠØ§ <span id="loverNameDisplay">FuftyğŸ’–</span></h1></div>
          <div class="subtitle" id="subText">Ø§Ù† Ø´Ø§Ø¡Ø§Ù„Ù„Ù‡ ÙŠØ¹Ø¬Ø¨Ùƒâ™¥ï¸ğŸˆ</div>
        </div>
      </div>

      <div class="main">
        <div class="left">
          <!-- Ø§Ù„Ø¹Ø¯Ù‘Ø§Ø¯ -->
          <div class="countdown" id="countdown">
            <div class="countBox"><div class="num" id="days">--</div><div class="lbl">ÙŠÙˆÙ…</div></div>
            <div class="countBox"><div class="num" id="hours">--</div><div class="lbl">Ø³Ø§Ø¹Ø©</div></div>
            <div class="countBox"><div class="num" id="mins">--</div><div class="lbl">Ø¯Ù‚ÙŠÙ‚Ø©</div></div>
            <div class="countBox"><div class="num" id="secs">--</div><div class="lbl">Ø«Ø§Ù†ÙŠØ©</div></div>
          </div>

          <!-- Ø±Ø³Ø§Ù„Ø© Ø¬Ø§Ù†Ø¨ÙŠØ© Ù‚Ø§Ø¨Ù„Ø© Ù„Ù„ØªØ¹Ø¯ÙŠÙ„ -->
          <div class="sideMsg">
            <div class="avatarPlaceholder">
  <img 
    src="https://media2.giphy.com/media/v1.Y2lkPTc5MGI3NjExZmwyOHU2OGV2MTNucWRyNThqZ282Y2JldnZ3ZHFoZWVibG16djRvbiZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/EhDW6BFCpQIyVo99XH/giphy.gif"
    alt="cute gif"
    style="width:100%;height:100%;object-fit:cover;border-radius:10px;">
</div>

            <div class="textArea">
              <div contenteditable="true" id="beforeText" style="min-height:36px"> happy birthday my loveâ™¥ï¸ğŸ©
              <div class="musicRow">
                <button class="btn" id="playAudioBtn"> ğŸ’®â™¥ï¸</button>
                <div style="color:var(--muted);margin-left:8px"></div>
              </div>
            </div>
          </div>

          <!-- ØªØ¹Ù„ÙŠÙ…Ø§Øª ØµØºÙŠØ±Ø© -->
          <div style="margin-top:12px;color:var(--muted);font-size:13px">
             Ø§Ø³ØªÙ†ÙŠ ÙŠØ§ Ø­Ù„ÙˆÙ‡  â™¥ï¸â™¥ï¸â™¥ï¸
          </div>
        </div>

        <div class="right">
          <div style="border-radius:12px;overflow:hidden;border:1px solid rgba(2,6,23,0.04);background:#fff;padding:10px">
            <div style="font-weight:700">ğŸ‰ğŸˆğŸ
            <div style="margin-top:8px">
              <div id="bottomGif"
     style="width:100%;
     height:220px;
     background:linear-gradient(180deg,#fff0f6,#ffeef8);
     border-radius:8px;
     display:none;
     align-items:center;
     justify-content:center;">
     
  <img
  src="https://media0.giphy.com/media/v1.Y2lkPTc5MGI3NjExejN2dGlrdmw2dWNiNzU0b2Q1bmFyNGFidmtzMjg4ODc0N3M4MHh1dyZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/GiQAoksvZJo0HEzeAr/giphy.gif"
  alt="gift gif"
  style="max-width:100%;
  max-height:100%;
  object-fit:contain;">

</div>

              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ù…ÙØ§Ø¬Ø£Ø© Ø§Ù„ØªÙŠ ØªØ¸Ù‡Ø± Ù„Ø§Ø­Ù‚Ù‹Ø§ -->
      <div id="revealArea" class="revealArea" aria-hidden="true">
        <div style="margin-top:18px">
          <div style="display:flex;align-items:center;justify-content:space-between;gap:12px">
            <div style="font-weight:800;font-size:18px">Ù…ÙˆØ§Ø§Ù‡ Ø§ÙØªØ­ÙŠ Ø¸Ø±Ù ÙƒÙŠÙˆØªÙŠğŸ’®
            <div style="color:var(--muted)">Ù…ÙØ§Ø¬Ø¦Ù‡Ù‡ ÙƒÙŠÙˆØªÙŠ Ù†Ø§Ø§ â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸</div>
          </div>

          <!-- Ø²Ø± Ø§Ù„Ø¸Ø±Ù (Ø¥ÙŠÙ…ÙˆØ¬ÙŠ) -->
          <div style="margin-top:12px;display:flex;align-items:center;gap:12px">
            <div id="envelopeBtn" style="cursor:pointer" title="Ø§Ø¶ØºØ· Ù„ÙØªØ­ Ø§Ù„Ø±Ø³Ø§Ù„Ø©">
              <div style="font-size:46px">âœ‰ï¸</div>
            </div>
            <div style="color:var(--muted)">xoÙ„ØµØ¨Ø¹Ùƒ ØµØºÙ†Ù†
          </div>

          <!-- ØµÙ†Ø¯ÙˆÙ‚ Ø§Ù„Ù‡Ø¯Ø§ÙŠØ§ (ÙŠØ¸Ù‡Ø± Ø¨Ø¹Ø¯ Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„Ø±Ø³Ø§Ù„Ø©) -->
          <div id="giftsArea" style="margin-top:18px;display:none">
            <div style="font-weight:800">Ø§Ù„Ù‡Ø¯Ø§ÙŠØ§:</div>
            <div class="gifts">
              <div class="giftIcon" id="giftIcon">ğŸ</div>
              <div class="giftCard">
                <div style="font-weight:700">Ø¨Ø·Ø§Ù‚Ø© Ù‡Ø¯ÙŠØ© ğŸ¹</div>
                <div style="color:var(--muted);margin-top:6px">Ø§Ø¶ØºØ·ÙŠ Ø¹Ù„Ù‰ Ø§Ù„Ù‡Ø¯ÙŠÙ‡ ÙÙˆÙØªÙŠğŸˆ</div>
                <div style="margin-top:8px">
                  <button class="btn" id="revealCodeBtn">Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„ÙƒÙˆØ¯</button>
                  <div style="margin-top:8px" id="codeBoxArea"></div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="footer">Ù…Ù†KYØ§Ù„Ù‰ ROXYğŸˆâ€â¬›
    </div>
  </div>

  <!-- Modal Ø§Ù„Ø±Ø³Ø§Ù„Ø© -->
  <div class="modalOverlay" id="modalOverlay" aria-hidden="true">
    <div class="modal" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
      <button class="close" id="modalClose">Ã—</button>
      <div id="modalTitle" style="font-weight:800;font-size:20px">Ø±Ø³Ø§Ù„ØªÙƒ</div>
      <div id="modalMsg" class="msg" style="margin-top:12px">
        <!-- Ù‡Ù†Ø§ Ù†Øµ Ø§Ù„Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ø°ÙŠ Ø³ØªÙƒØªØ¨Ù‡ Ù„Ø§Ø­Ù‚Ù‹Ø§ -->
        Ø¹ÙŠØ¯ Ù…ÙŠÙ„Ø§Ø¯ Ø³Ø¹ÙŠØ¯ Ù„Ù„Ø´Ø®Øµ Ø§Ù„Ø°ÙŠ ÙŠÙ†Ø¬Ø­ Ø¯Ø§Ø¦Ù…Ù‹Ø§ ÙÙŠ Ø±Ø³Ù… Ø§Ù„Ø§Ø¨ØªØ³Ø§Ù…Ø© Ø¹Ù„Ù‰ ÙˆØ¬Ù‡ÙŠ Ù…Ù‡Ù…Ø§ ÙƒØ§Ù†Øª Ø§Ù„Ø¸Ø±ÙˆÙ.
        Ù„Ø¯ÙŠÙƒ Ø·Ø±ÙŠÙ‚Ø© Ø±Ø§Ø¦Ø¹Ø© Ù„ØªØ­ÙˆÙŠÙ„ Ø­ØªÙ‰ Ø£ØµØºØ± Ø§Ù„Ù„Ø­Ø¸Ø§Øª Ø¥Ù„Ù‰ Ø´ÙŠØ¡ Ù…Ù…ÙŠØ² Ø¨Ù…Ø¬Ø±Ø¯ ÙˆØ¬ÙˆØ¯Ùƒ Ø­ÙˆÙ„ÙŠ
        Ø¨ØµØ±Ø§Ø­Ø© Ù„Ø§ Ø£Ù‚ÙˆÙ„Ù‡Ø§ Ø¨Ù…Ø§ ÙÙŠÙ‡ Ø§Ù„ÙƒÙØ§ÙŠØ© Ù„ÙƒÙ†Ù†ÙŠ Ø£Ù‚Ø¯Ø± Ø­Ù‚Ø§ ÙƒÙŠÙ ØªØ¬Ù„Ø¨ÙŠÙ† Ø§Ù„ÙƒØ«ÙŠØ± Ù…Ù† Ø§Ù„Ø³Ø¹Ø§Ø¯Ø© ÙˆØ§Ù„Ø¥ÙŠØ¬Ø§Ø¨ÙŠØ© Ø¥Ù„Ù‰ Ø­ÙŠØ§ØªÙŠ
        ÙÙŠ Ø¹ÙŠØ¯ Ù…ÙŠÙ„Ø§Ø¯Ùƒ Ø£Ø±ÙŠØ¯Ùƒ ÙÙ‚Ø· Ø£Ù† ØªØ¹Ø±ÙÙŠ ÙƒÙ… Ø£Ù†ØªÙŠ Ø¹Ø²ÙŠØ²Ø© Ø¹Ù„ÙŠ ÙˆÙƒÙ… Ø£Ù†Ø§ Ù…Ù…ØªÙ† Ù„ÙˆØ¬ÙˆØ¯Ùƒ ÙÙŠ Ø­ÙŠØ§ØªÙŠ
        Ø£ØªÙ…Ù†Ù‰ Ø£Ù† ÙŠÙƒÙˆÙ† ÙŠÙˆÙ…Ùƒ Ù…Ù„ÙŠØ¦Ø§ Ø¨ÙƒÙ„ Ø§Ù„Ø£Ø´ÙŠØ§Ø¡ Ø§Ù„ØªÙŠ ØªØ­Ø¨ÙŠÙ†Ù‡Ø§ - Ø§Ù„Ø·Ø¹Ø§Ù… Ø§Ù„Ø¬ÙŠØ¯ ÙˆØ§Ù„Ø±ÙÙ‚Ø© Ø§Ù„Ø±Ø§Ø¦Ø¹Ø© ÙˆØ§Ù„ÙƒØ«ÙŠØ± Ù…Ù† Ø§Ù„Ø¶Ø­Ùƒ Ø£Ù†ØªÙŠ ØªØ³ØªØ­Ù‚ÙŠÙ† Ø§Ù„Ø§Ø­ØªÙØ§Ù„ Ø¨Ùƒ ÙƒÙ„ ÙŠÙˆÙ…
        ÙˆÙ„ÙƒÙ† Ø¨Ø´ÙƒÙ„ Ø®Ø§Øµ Ø§Ù„ÙŠÙˆ
      </div>
      <div class="heart" id="modalHeart">ğŸ’–</div>
    </div>
  </div>

<script>
/* =================== Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø³Ø±ÙŠØ¹Ø© (ØºÙŠÙ‘Ø± Ù‡Ù†Ø§ Ø­Ø³Ø¨ Ø±ØºØ¨ØªÙƒ) =================== */
/* =================== Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø³Ø±ÙŠØ¹Ø© (ØºÙŠÙ‘Ø± Ù‡Ù†Ø§ Ø­Ø³Ø¨ Ø±ØºØ¨ØªÙƒ) =================== */
const LOVER_NAME = "Fufty my babyğŸ©·";

const TARGET_DATE = new Date('2025-12-18T00:00:00');
const TEST_MODE = false;

/* ğŸ”Š Ø±Ø§Ø¨Ø· Ø§Ù„Ø£ØºÙ†ÙŠØ© (Ø¬Ø§Ù‡Ø²) */
const AUDIO_SRC = "https://drive.google.com/uc?export=download&id=1pvZg0yd771ONWZPj0nisWMCLE_v8eLPJ";
;
;

const GIFT_CODE = "9578423120351";

/* ğŸ’Œ Ù†Øµ Ø§Ù„Ø±Ø³Ø§Ù„Ø© (Ø·ÙˆÙŠÙ„ â€“ ØµØ­ÙŠØ­ â€“ Ù…Ø§ ÙŠÙƒØ³Ø± JS) */
const MESSAGE_TEXT = `
Ø¹ÙŠØ¯ Ù…ÙŠÙ„Ø§Ø¯ Ø³Ø¹ÙŠØ¯ Ù„Ù„Ø´Ø®Øµ Ø§Ù„Ø°ÙŠ ÙŠÙ†Ø¬Ø­ Ø¯Ø§Ø¦Ù…Ù‹Ø§ ÙÙŠ Ø±Ø³Ù… Ø§Ù„Ø§Ø¨ØªØ³Ø§Ù…Ø© Ø¹Ù„Ù‰ ÙˆØ¬Ù‡ÙŠ Ù…Ù‡Ù…Ø§ ÙƒØ§Ù†Øª Ø§Ù„Ø¸Ø±ÙˆÙ.ğŸ

Ù„Ø¯ÙŠÙƒ Ø·Ø±ÙŠÙ‚Ø© Ø±Ø§Ø¦Ø¹Ø© Ù„ØªØ­ÙˆÙŠÙ„ Ø­ØªÙ‰ Ø£ØµØºØ± Ø§Ù„Ù„Ø­Ø¸Ø§Øª Ø¥Ù„Ù‰ Ø´ÙŠØ¡ Ù…Ù…ÙŠØ² Ø¨Ù…Ø¬Ø±Ø¯ ÙˆØ¬ÙˆØ¯Ùƒ Ø­ÙˆÙ„ÙŠ.
Ø¨ØµØ±Ø§Ø­Ø© Ù„Ø§ Ø£Ù‚ÙˆÙ„Ù‡Ø§ Ø¨Ù…Ø§ ÙÙŠÙ‡ Ø§Ù„ÙƒÙØ§ÙŠØ© Ù„ÙƒÙ†Ù†ÙŠ Ø£Ù‚Ø¯Ø± Ø­Ù‚Ø§ ÙƒÙŠÙ ØªØ¬Ù„Ø¨ÙŠÙ† Ø§Ù„ÙƒØ«ÙŠØ± Ù…Ù† Ø§Ù„Ø³Ø¹Ø§Ø¯Ø©
ÙˆØ§Ù„Ø¥ÙŠØ¬Ø§Ø¨ÙŠØ© Ø¥Ù„Ù‰ Ø­ÙŠØ§ØªÙŠğŸ’

ÙÙŠ Ø¹ÙŠØ¯ Ù…ÙŠÙ„Ø§Ø¯Ùƒ Ø£Ø±ÙŠØ¯Ùƒ ÙÙ‚Ø· Ø£Ù† ØªØ¹Ø±ÙÙŠ ÙƒÙ… Ø£Ù†ØªÙŠ Ø¹Ø²ÙŠØ²Ø© Ø¹Ù„ÙŠ
ÙˆÙƒÙ… Ø£Ù†Ø§ Ù…Ù…ØªÙ† Ù„ÙˆØ¬ÙˆØ¯Ùƒ ÙÙŠ Ø­ÙŠØ§ØªÙŠğŸŒ“

Ø£ØªÙ…Ù†Ù‰ Ø£Ù† ÙŠÙƒÙˆÙ† ÙŠÙˆÙ…Ùƒ Ù…Ù„ÙŠØ¦Ø§ Ø¨ÙƒÙ„ Ø§Ù„Ø£Ø´ÙŠØ§Ø¡ Ø§Ù„ØªÙŠ ØªØ­Ø¨ÙŠÙ†Ù‡Ø§ â€”
Ø§Ù„Ø·Ø¹Ø§Ù… Ø§Ù„Ø¬ÙŠØ¯ ÙˆØ§Ù„Ø±ÙÙ‚Ø© Ø§Ù„Ø±Ø§Ø¦Ø¹Ø© ÙˆØ§Ù„ÙƒØ«ÙŠØ± Ù…Ù† Ø§Ù„Ø¶Ø­Ùƒ.
Ø£Ù†ØªÙŠ ØªØ³ØªØ­Ù‚ÙŠÙ† Ø§Ù„Ø§Ø­ØªÙØ§Ù„ Ø¨Ùƒ ÙƒÙ„ ÙŠÙˆÙ… ÙˆÙ„ÙƒÙ† Ø¨Ø´ÙƒÙ„ Ø®Ø§Øµ Ø§Ù„ÙŠÙˆÙ…ğŸˆâ€â¬›

Ø£ØªÙ…Ù†Ù‰ Ù„Ùƒ Ø¹Ø§Ù…Ø§ Ø§Ø®Ø± Ù…Ù† ØµÙ†Ø¹ Ø§Ù„Ø°ÙƒØ±ÙŠØ§Øª
ÙˆÙ…Ø·Ø§Ø±Ø¯Ø© Ø§Ù„Ø£Ø­Ù„Ø§Ù…
ÙˆØ£Ù† ØªÙƒÙˆÙ†ÙŠ Ø¹Ù„Ù‰ Ø·Ø¨ÙŠØ¹ØªÙƒ Ø§Ù„Ø±Ø§Ø¦Ø¹Ø©ğŸ’™

Ø§Ø³ØªÙ…ØªØ¹ÙŠ Ø¨ÙŠÙˆÙ…Ùƒ Ø¹Ù„Ù‰ Ø£ÙƒÙ…Ù„ ÙˆØ¬Ù‡
Ø£Ù†Ø§ Ø£Ø¯Ø¹Ù…Ùƒ Ø¯Ø§Ø¦Ù…Ø§!ğŸ«µğŸ»ğŸ’™ğŸ«¶ğŸ»
`;
/* ======================================================================== */

/* ======================================================================== */

/* Ø¹Ù†Ø§ØµØ± DOM */
const daysEl = document.getElementById('days'),
      hoursEl = document.getElementById('hours'),
      minsEl = document.getElementById('mins'),
      secsEl = document.getElementById('secs');

document.getElementById('loverNameDisplay').textContent = LOVER_NAME;
document.getElementById('modalMsg').textContent = MESSAGE_TEXT;

/* Ø¹Ø¯Ù‘Ø§Ø¯ */
const target = TEST_MODE ? new Date(Date.now() + 6000) : TARGET_DATE;
let triggered = false;
function pad(n){ return String(n).padStart(2,'0'); }
function updateCountdown(){
  const now = new Date(), diff = target - now;
  if(diff <= 0){
    daysEl.textContent = '0'; hoursEl.textContent='00'; minsEl.textContent='00'; secsEl.textContent='00';
    if(!triggered){ triggered = true; startRevealSequence(); }
    return;
  }
  let rem = diff;
  const days = Math.floor(rem / (1000*60*60*24)); rem -= days*(1000*60*60*24);
  const hours = Math.floor(rem / (1000*60*60)); rem -= hours*(1000*60*60);
  const minutes = Math.floor(rem / (1000*60)); rem -= minutes*(1000*60);
  const seconds = Math.floor(rem / 1000);
  daysEl.textContent = days;
  hoursEl.textContent = pad(hours);
  minsEl.textContent = pad(minutes);
  secsEl.textContent = pad(seconds);
}
updateCountdown();
const intervalId = setInterval(updateCountdown,1000);

/* ØªØ´ØºÙŠÙ„/Ø§ÙŠÙ‚Ø§Ù Ø§Ù„Ù…ÙˆØ³ÙŠÙ‚Ù‰ (Ø§Ø°Ø§ ÙˆÙØ¬Ø¯ Ø±Ø§Ø¨Ø·) */
const playAudioBtn = document.getElementById('playAudioBtn');
let audio = null;
if(AUDIO_SRC && AUDIO_SRC.trim() !== ""){
  audio = new Audio(AUDIO_SRC);
  audio.loop = true;
  playAudioBtn.addEventListener('click', ()=> {
    if(audio.paused) audio.play().catch(()=> alert('Ø§Ù„Ù…ØªØµÙØ­ Ù…Ù†Ø¹ Ø§Ù„ØªØ´ØºÙŠÙ„ Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ. Ø§Ø¶ØºØ· Ø§Ù„Ø³Ù…Ø§Ø­ Ø£Ùˆ Ø§Ø¶ØºØ· Ø§Ù„Ø²Ø± Ù…Ø±Ø© Ø«Ø§Ù†ÙŠØ©.'));
    else audio.pause();
  });
} else {
  // Ù„Ùˆ Ù…Ø§ ÙÙŠÙ‡ Ø±Ø§Ø¨Ø·ØŒ Ø§Ù„Ø²Ø± ÙŠØ®Ø¨Ø±Ùƒ Ø£ÙŠÙ† ØªØºÙŠØ± Ø§Ù„ÙƒÙˆØ¯
  playAudioBtn.addEventListener('click', ()=> alert('https://limewire.com/d/FcSNO#HllOtfXP5n'));
}

/* ØªØ³Ù„Ø³Ù„ Ø§Ù„ÙƒØ´Ù Ø¹Ù†Ø¯ Ø§Ù„ÙˆØµÙˆÙ„ */
function startRevealSequence(){
  // ØªØ´ØºÙŠÙ„ ÙˆØ±ÙˆØ¯ Ø§Ù„Ø³Ø§ÙƒÙˆØ±Ø§
  launchPetals(40);

  // Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„Ù€ GIF Ø§Ù„Ø³ÙÙ„ÙŠ
  const bottomGif = document.getElementById('bottomGif');
  if(bottomGif){
    bottomGif.style.display = 'flex';
  }

  // Ø¥Ø¸Ù‡Ø§Ø± Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø¸Ø±Ù ÙˆØ§Ù„Ù‡Ø¯Ø§ÙŠØ§
  setTimeout(()=> {
    const reveal = document.getElementById('revealArea');
    reveal.classList.add('visible');
    reveal.setAttribute('aria-hidden','false');
  },900);
}


/* Ø¥Ù†Ø´Ø§Ø¡ Ø¨ØªÙ„Ø§Øª Ø§Ù„ÙˆØ±Ø¯ */
function launchPetals(count=30){
  for(let i=0;i<count;i++){
    const p = document.createElement('div');
    p.className = 'petal';
    // Ø¹Ø´ÙˆØ§Ø¦ÙŠØ§Øª Ù„Ù„Ù…ÙˆÙ‚Ø¹
    const left = Math.random() * 100; // percent
    const dx = (Math.random()*60 - 30) + 'vw'; // translateX end
    p.style.left = left + 'vw';
    p.style.setProperty('--dx', dx);
    const delay = Math.random() * 1.2; // seconds
    const duration = 4 + Math.random()*3; // seconds
    p.style.animation = `fall ${duration}s linear ${delay}s forwards`;
    // Ø¯ÙˆØ±Ø§Ù† Ø¹Ø´ÙˆØ§Ø¦ÙŠ
    p.style.transform = `rotate(${Math.random()*360}deg)`;
    document.body.appendChild(p);
    // Ù†Ù†Ø¸Ù Ø§Ù„Ø¹Ù†ØµØ± Ø¨Ø¹Ø¯ Ø§Ù†ØªÙ‡Ø§Ø¡ Ø§Ù„Ø£Ù†Ù…ÙŠØ´Ù†
    setTimeout(()=> { try{ p.remove(); }catch(e){} }, (delay + duration + 0.5)*1000);
  }
}

/* ÙØªØ­ Ø§Ù„Ø±Ø³Ø§Ù„Ø© (modal) */
const envelopeBtn = document.getElementById('envelopeBtn');
const modalOverlay = document.getElementById('modalOverlay');
const modalClose = document.getElementById('modalClose');

envelopeBtn.addEventListener('click', ()=> {
  modalOverlay.classList.add('show');
  modalOverlay.setAttribute('aria-hidden','false');
  // Ù‚Ù„Ø¨ ÙŠÙ„Ù…Ø¹ ØªÙ„Ù‚Ø§Ø¦ÙŠ Ø¯Ø§Ø®Ù„ Ø§Ù„Ù…ÙˆØ¯Ø§Ù„ (CSS animation)
  // Ù„Ùˆ ÙÙŠÙ‡ ØµÙˆØª Ø§Ø±Ø³Ø§Ù„ Ø¨Ø³ÙŠØ· Ù…Ù…ÙƒÙ† ØªØ¶ÙŠÙ Ù‡Ù†Ø§
});
modalClose.addEventListener('click', ()=> {
  modalOverlay.classList.remove('show');
  modalOverlay.setAttribute('aria-hidden','true');
  // Ø¹Ù†Ø¯ Ø§ØºÙ„Ø§Ù‚ Ø§Ù„Ø±Ø³Ø§Ù„Ø© Ù†Ø¹Ø±Ø¶ Ø§Ù„Ù‡Ø¯Ø§ÙŠØ§ (ÙƒÙ…Ø§ Ø·Ù„Ø¨Øª)
  showGiftsArea();
});

/* Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„Ù‡Ø¯Ø§ÙŠØ§ */
function showGiftsArea(){
  const ga = document.getElementById('giftsArea');
  ga.style.display = 'block';
  // ÙŠÙ…ÙƒÙ† Ø§Ø¶Ø§ÙØ© ØªØ£Ø«ÙŠØ± Ø¯Ø®ÙˆÙ„ Ù‡Ù†Ø§ Ø¥Ù† Ø±ØºØ¨Øª
}

/* Ø²Ø± Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„ÙƒÙˆØ¯ */
document.getElementById('revealCodeBtn').addEventListener('click', ()=> {
  const area = document.getElementById('codeBoxArea');
  area.innerHTML = `<div class="codeBox">${GIFT_CODE}</div>`;
});

/* Ø²Ø± Ø£ÙŠÙ‚ÙˆÙ†Ø© Ø§Ù„Ù‡Ø¯ÙŠØ© (Ù„Ùˆ ØªØ¨ÙŠ ØªÙØªØ­ Ù…Ø¹Ø±Ø¶ Ø§Ù„ØµÙˆØ± Ù„Ø§Ø­Ù‚Ù‹Ø§) */
document.getElementById('giftIcon').addEventListener('click', ()=> {
  alert('Ù‡Ù†Ø§ ÙŠÙ…ÙƒÙ†Ùƒ ÙˆØ¶Ø¹ Ù…Ø¹Ø±Ø¶ ØµÙˆØ± Ø§Ù„Ù‡Ø¯Ø§ÙŠØ§ Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠØ© â€” Ø³Ø£Ø¶ÙŠÙ ÙˆØ¸ÙŠÙØªÙ‡ Ø¹Ù†Ø¯Ù…Ø§ ØªØ¹Ø·ÙŠ Ø§Ù„ØµÙˆØ±.');
});

/* Ø²Ø± Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„ÙØªØ­ Ø§Ù„ÙŠØ¯ÙˆÙŠ (Ù„Ø£Ù† Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ÙŠØ±ÙŠØ¯ Ø§Ù† ÙŠØ¬Ø±Ø¨ Ù‚Ø¨Ù„ Ø§Ù„ØªØ§Ø±ÙŠØ®) */
document.getElementById('testReveal').addEventListener('click', ()=> {
  // Ù†ÙˆÙ‚Ù Ø§Ù„Ù€ countdown Ù…Ø¤Ù‚ØªØ§Ù‹ ÙˆÙ†Ù†ÙØ° Ø§Ù„ÙƒØ´Ù
  clearInterval(intervalId);
  startRevealSequence();
});

/* ØªÙ„Ù…ÙŠØ­: Ø¹Ù†Ø¯ ØªÙØ¹ÙŠÙ„ TEST_MODE ÙŠÙØªØ­ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ Ø¹Ø¨Ø± Ø§Ù„Ù…ØªØºÙŠØ± Ø§Ù„Ø°ÙŠ ÙˆØ¶Ø¹ØªÙ‡ ÙÙŠ Ø§Ù„Ø£Ø¹Ù„Ù‰ */
if(TEST_MODE){
  setTimeout(()=> {
    clearInterval(intervalId);
    startRevealSequence();
  }, 800); // Ù†Ø¤Ø®Ø± Ù‚Ù„ÙŠÙ„Ø§Ù‹ Ù„ÙŠØ´Ø¹Ø± Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø¨ØªØ£Ø«ÙŠØ±
}
</script>
</body>
</html>
